<style>
  /* Estilos para el preloader */
  #preloader {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
  }
</style>

<div class="contenedor__todo">
  <div class="caja__trasera">
    <div class="caja__trasera-login">
      <h3>¿Ya tienes una cuenta?</h3>
      <p>Inicia sesión para entrar en la página</p>
      <button id="btn__iniciar-sesion" onclick="toggleForms()">Iniciar Sesión</button>
    </div>
    <div class="caja__trasera-register">
      <h3>¿Aún no tienes una cuenta?</h3>
      <p>Regístrate para entrar en la página</p>
      <button id="btn__registrarse" onclick="toggleForms()">Registrarse</button>
    </div>
  </div>
  
  <!-- Formulario de Login y Registro -->
  <div class="contenedor__login-register">
    <!-- Login -->
    <form action="/login" method="POST" class="formulario__login">
      <h2>Iniciar Sesión</h2>
      <input type="text" name="email" placeholder="Correo electrónico" required>
      <input type="password" name="password" placeholder="Contraseña" required>
      <button type="submit">Entrar</button>
      {{#if error}}
        <p style="color: red;">{{error}}</p> <!-- Muestra el mensaje de error -->
      {{/if}}
    </form>

    <!-- Registro -->
    <form action="/signup" method="POST" class="formulario__register" style="display: none;">
      <h2>Registrarse</h2>
      <input type="text" name="name" placeholder="Nombre Completo" required>
      <input type="text" name="email" placeholder="Correo electrónico" required>
      <input type="text" name="username" placeholder="Usuario" required>
      <input type="password" name="password" placeholder="Contraseña" required>
      <button type="submit">Registrarse</button>
      {{#if error}}
        <p style="color: red;">Este correo ya está registrado. Intenta de nuevo.</p>
      {{/if}}
    </form>
  </div>
</div>

<script>
  function toggleForms() {
    const loginForm = document.querySelector('.formulario__login');
    const registerForm = document.querySelector('.formulario__register');

    if (loginForm.style.display === 'none') {
      loginForm.style.display = 'block';
      registerForm.style.display = 'none';
    } else {
      loginForm.style.display = 'none';
      registerForm.style.display = 'block';
    }
  }
</script>